<!-- 
Framer Custom Code - URL Parameters Helper
Add this to your Framer page's Custom Code section (Site Settings > Custom Code > Head)

This script enables URL parameters like ?search=wine to be passed to the iframe embed
-->

<script>
(function() {
    window.addEventListener('message', function(event) {
        if (event.data && event.data.type === 'getUrlParams' && event.data.source === 'adventure-directory') {
            var params = {};
            var searchParams = new URLSearchParams(window.location.search);
            
            for (var pair of searchParams.entries()) {
                params[pair[0]] = pair[1];
            }
            
            // Send response back to iframe
            if (event.source && event.source !== window) {
                event.source.postMessage({
                    type: 'urlParamsResponse',
                    params: params
                }, event.origin);
            }
        }
    });
})();
</script>

